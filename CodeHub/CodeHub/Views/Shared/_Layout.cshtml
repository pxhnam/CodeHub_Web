@{ 
    string currentController = ViewContext.RouteData.Values["Controller"].ToString();
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - CodeHub</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body class="header-fixed">
    <!-- partial:partials/_header.html -->
    <nav class="t-header">
        <div class="t-header-brand-wrapper">
            <a href="index.html">
                <img class="logo" src="/Content/images/logo.svg" alt="">
                <img class="logo-mini" src="/Content/images/logo_mini.svg" alt="">
            </a>
        </div>
        <div class="t-header-content-wrapper">
            <div class="t-header-content">
                <button class="t-header-toggler t-header-mobile-toggler d-block d-lg-none">
                    <i class="mdi mdi-menu"></i>
                </button>
                <ul class="nav ml-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="#" id="notificationDropdown" data-toggle="dropdown" aria-expanded="false">
                            <i class="mdi mdi-bell-outline mdi-1x"></i>
                        </a>
                        <div class="dropdown-menu navbar-dropdown dropdown-menu-right" aria-labelledby="notificationDropdown">
                            <div class="dropdown-header">
                                <h6 class="dropdown-title">Notifications</h6>
                                <p class="dropdown-title-text">You have 4 unread notification</p>
                            </div>
                            <div class="dropdown-body">
                                <div class="dropdown-list">
                                    <div class="icon-wrapper rounded-circle bg-inverse-primary text-primary">
                                        <i class="mdi mdi-alert"></i>
                                    </div>
                                    <div class="content-wrapper">
                                        <small class="name">Storage Full</small>
                                        <small class="content-text">Server storage almost full</small>
                                    </div>
                                </div>
                                <div class="dropdown-list">
                                    <div class="icon-wrapper rounded-circle bg-inverse-success text-success">
                                        <i class="mdi mdi-cloud-upload"></i>
                                    </div>
                                    <div class="content-wrapper">
                                        <small class="name">Upload Completed</small>
                                        <small class="content-text">3 Files uploded successfully</small>
                                    </div>
                                </div>
                                <div class="dropdown-list">
                                    <div class="icon-wrapper rounded-circle bg-inverse-warning text-warning">
                                        <i class="mdi mdi-security"></i>
                                    </div>
                                    <div class="content-wrapper">
                                        <small class="name">Authentication Required</small>
                                        <small class="content-text">Please verify your password to continue using cloud services</small>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown-footer">
                                <a href="#">View All</a>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="#" id="messageDropdown" data-toggle="dropdown" aria-expanded="false">
                            <i class="mdi mdi-message-outline mdi-1x"></i>
                            <span class="notification-indicator notification-indicator-primary notification-indicator-ripple"></span>
                        </a>
                        <div class="dropdown-menu navbar-dropdown dropdown-menu-right" aria-labelledby="messageDropdown">
                            <div class="dropdown-header">
                                <h6 class="dropdown-title">Messages</h6>
                                <p class="dropdown-title-text">You have 4 unread messages</p>
                            </div>
                            <div class="dropdown-body">
                                <div class="dropdown-list">
                                    <div class="image-wrapper">
                                        <img class="profile-img" src="/Content/images/profile/male/image_1.png" alt="profile image">
                                        <div class="status-indicator rounded-indicator bg-success"></div>
                                    </div>
                                    <div class="content-wrapper">
                                        <small class="name">Clifford Gordon</small>
                                        <small class="content-text">Lorem ipsum dolor sit amet.</small>
                                    </div>
                                </div>
                                <div class="dropdown-list">
                                    <div class="image-wrapper">
                                        <img class="profile-img" src="/Content/images/profile/female/image_2.png" alt="profile image">
                                        <div class="status-indicator rounded-indicator bg-success"></div>
                                    </div>
                                    <div class="content-wrapper">
                                        <small class="name">Rachel Doyle</small>
                                        <small class="content-text">Lorem ipsum dolor sit amet.</small>
                                    </div>
                                </div>
                                <div class="dropdown-list">
                                    <div class="image-wrapper">
                                        <img class="profile-img" src="/Content/images/profile/male/image_3.png" alt="profile image">
                                        <div class="status-indicator rounded-indicator bg-warning"></div>
                                    </div>
                                    <div class="content-wrapper">
                                        <small class="name">Lewis Guzman</small>
                                        <small class="content-text">Lorem ipsum dolor sit amet.</small>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown-footer">
                                <a href="#">View All</a>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="#" id="appsDropdown" data-toggle="dropdown" aria-expanded="false">
                            <i class="mdi mdi-apps mdi-1x"></i>
                        </a>
                        <div class="dropdown-menu navbar-dropdown dropdown-menu-right" aria-labelledby="appsDropdown">
                            <div class="dropdown-header">
                                <h6 class="dropdown-title">Apps</h6>
                                <p class="dropdown-title-text mt-2">Authentication required for 3 apps</p>
                            </div>
                            <div class="dropdown-body border-top pt-0">
                                <a class="dropdown-grid">
                                    <i class="grid-icon mdi mdi-jira mdi-2x"></i>
                                    <span class="grid-tittle">Jira</span>
                                </a>
                                <a class="dropdown-grid">
                                    <i class="grid-icon mdi mdi-trello mdi-2x"></i>
                                    <span class="grid-tittle">Trello</span>
                                </a>
                                <a class="dropdown-grid">
                                    <i class="grid-icon mdi mdi-artstation mdi-2x"></i>
                                    <span class="grid-tittle">Artstation</span>
                                </a>
                                <a class="dropdown-grid">
                                    <i class="grid-icon mdi mdi-bitbucket mdi-2x"></i>
                                    <span class="grid-tittle">Bitbucket</span>
                                </a>
                            </div>
                            <div class="dropdown-footer">
                                <a href="#">View All</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- partial -->
    <div class="page-body">
        <!-- partial:partials/_sidebar.html -->
        <div class="sidebar">
            <div class="user-profile">
                <div class="display-avatar animated-avatar">
                    <img class="profile-img img-lg rounded-circle" src="/Content/images/profile/male/image_1.png" alt="profile image">
                </div>
                <div class="info-wrapper">
                    <p class="user-name"></p>
                    <h6 class="display-income">$3,400,00</h6>
                </div>
            </div>
            <ul class="navigation-menu">
                <li class="nav-category-divider">MAIN</li>
                <li class="@(currentController == "Home" ? "active" : "")">
                    <a href="@Url.Action("Index", "Home")">
                        <span class="link-title">Dashboard</span>
                        <i class="mdi mdi-gauge link-icon"></i>
                    </a>
                </li>
                <li class="@(currentController == "Source" ? "active" : "")">
                    <a href="#sample-pages" data-toggle="collapse" aria-expanded="false">
                        <span class="link-title">Source Code</span>
                        <i class="mdi mdi-xml link-icon"></i>
                    </a>
                    <ul class="collapse navigation-submenu" id="sample-pages">
                        <li>
                            <a href="@Url.Action("Repository", "Source")" aria-expanded="true">Mã nguồn</a>
                        </li>
                        <li>
                            <a href="@Url.Action("Language", "Source")" aria-expanded="true">Ngôn ngữ</a>
                        </li>
                        <li>
                            <a href="@Url.Action("Type", "Source")" aria-expanded="true">Thể loại</a>
                        </li>
                        <li>
                            <a href="@Url.Action("UserRequest", "Source")" aria-expanded="true">Yêu cầu</a>
                        </li>
                    </ul>
                </li>
                <li class="@(currentController == "User" ? "active" : "")">
                    <a href="#ui-elements" data-toggle="collapse" aria-expanded="false">
                        <span class="link-title">Người dùng</span>
                        <i class="mdi mdi-account link-icon"></i>
                    </a>
                    <ul class="collapse navigation-submenu" id="ui-elements">
                        <li>
                            <a href="@Url.Action("Developer", "User")" aria-expanded="true">Lập trình viên</a>
                        </li>
                        <li>
                            <a href="@Url.Action("Customer", "User")" aria-expanded="true">Khách hàng</a>
                        </li>
                        @*<li>
                            <a href="#" aria-expanded="true">...</a>
                        </li>*@
                    </ul>
                </li>
                <li class="@(currentController == "Statistical" ? "active" : "")">
                    <a href="#thong-ke" data-toggle="collapse" aria-expanded="false">
                        <span class="link-title">Thống kê</span>
                        <i class="mdi mdi-chart-line link-icon"></i>
                    </a>
                    <ul class="collapse navigation-submenu" id="thong-ke">
                        <li>
                            <a href="@Url.Action("Order", "Statistical")" aria-expanded="true">Hóa đơn</a>
                        </li>
                        <li>
                            <a href="@Url.Action("Transaction", "Statistical")" aria-expanded="true">Giao dịch</a>
                        </li>
                        <li>
                            <a href="@Url.Action("Report", "Statistical")" aria-expanded="true">Báo cáo</a>
                        </li>
                    </ul>
                </li>
                @*<li class="@(currentController == "Report" ? "active" : "")">
            <a href="@Url.Action("Index", "Report")">
                <span class="link-title">Báo cáo</span>
                <i class="mdi mdi-clipboard-outline link-icon"></i>
            </a>
        </li>
        <li class="@(currentController == "Order" ? "active" : "")">
            <a href="@Url.Action("Index", "Order")">
                <span class="link-title">Hóa đơn</span>
                <i class="mdi mdi-cart-outline link-icon"></i>
            </a>
        </li>
        <li class="@(currentController == "Transaction" ? "active" : "")">
            <a href="@Url.Action("Index", "Transaction")">
                <span class="link-title">Giao dịch</span>
                <i class="mdi mdi-history link-icon"></i>
            </a>
        </li>
        <li>
            <a href="#">
                <span class="link-title">Icons</span>
                <i class="mdi mdi-flower-tulip-outline link-icon"></i>
            </a>
        </li>*@
                <li class="nav-category-divider">LỐI THOÁT</li>
                <li>
                    <a id="btnLogout" href="@Url.Action("Logout", "Home")">
                        <span class="link-title">Đăng xuất</span>
                        <i class="mdi mdi-logout link-icon"></i>
                    </a>
                </li>
            </ul>
        </div>
        <!-- partial -->
        <div class="page-content-wrapper">
            <div class="page-content-wrapper-inner">
                <div class="content-viewport">
                    @RenderBody()
                </div>
            </div>
            <!-- partial:partials/_footer.html -->
            <footer class="footer">
                <div class="row">
                    <div class="col-sm-6 text-center text-sm-right order-sm-1">
                        <ul class="text-gray">
                            <li><a href="#">Terms of use</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6 text-center text-sm-left mt-3 mt-sm-0">
                        <small class="text-muted d-block">Copyright © @DateTime.Now.Year <a href="https://facebook.com/Nam.13PM" target="_blank">LOR Team</a>. All rights reserved</small>
                        <small class="text-gray mt-2">CodeHub With <i class="mdi mdi-heart text-danger"></i></small>
                    </div>
                </div>
            </footer>
            <!-- partial -->
        </div>
        <!-- page content ends -->
    </div>

    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel"></h1>
                </div>
                <div class="modal-body"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="btnCancel" data-bs-dismiss="modal"></button>
                    <button type="button" class="btn btn-primary" id="btnOk"></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    @Scripts.Render("~/bundles/core")
    @Scripts.Render("~/bundles/charts")
    @Scripts.Render("~/bundles/template")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    <script type="text/javascript">
        $(document).ready(function () {
            getUser();
        });
        $(document).ajaxStart(function () {
            // Hiển thị indicator khi bắt đầu yêu cầu AJAX
            loading(true)
        });

        $(document).ajaxStop(function () {
            // Ẩn indicator khi tất cả yêu cầu AJAX hoàn thành
            loading(false)
        });
        function getUser() {
            $.ajax({
                url: '@Url.Action("GetUser", "API")',
                type: 'POST',
                //data: { ID: $(this).data("id") },
                success: function (response) {
                    if (response.success) {
                        $('.user-name').text(response.name)
                    } else { }
                }
            })
        }
        function loading(isLoad) {
            if (isLoad) {
                $('.content-viewport').append(`<div class="modal show overlay" id="loading"><div class="spinner-border" role="status"></div></div>`)
            } else {
                $('.content-viewport').find('#loading').remove()
            }
        }
    </script>
</body>
</html>